'use strict';(function(a){function z(a,b){var d;document.createEvent?(d=document.createEvent("HTMLEvents"),d.initEvent(b,!0,!0)):document.createEventObject&&(d=document.createEventObject(),d.eventType=b);d.eventName=b;a.dispatchEvent?a.dispatchEvent(d):a.fireEvent&&htmlEvents["on"+b]?a.fireEvent("on"+d.eventType,d):a[b]?a[b]():a["on"+b]&&a["on"+b]()}var n=!1,v=300,w=function(a,b,d){b&&!0===b()?d&&d():(b=document.createElement("script"),b.setAttribute("async","async"),b.onload=function(){d&&d();this.getAttribute("id")},
document.head.appendChild(b),b.setAttribute("src",a))},r=function(a,b){0===a.length?b():w(a[0][0],a[0][1],function(){a.shift();r(a,b)})},A=function(c){var b=wpf.includes_url+"js/jquery/",d=[[b+"ui/core.min.js",function(){return"object"===typeof a.ui}],[b+"ui/mouse.min.js",function(){return"function"===typeof a.ui.mouse}],[b+"jquery.ui.touch-punch.js",function(){return!("ontouchstart"in window)}],[b+"ui/slider.min.js",function(){return"function"===typeof a.ui.slider}]];wpf.load_jquery_ui_widget&&d.unshift([b+
"ui/widget.min.js",function(){return"function"===typeof a.widget}]);r(d,function(){c()})},D=function(c){a.fn.slider&&a(".wpf_slider",c).each(function(){var b=a(this).closest(".wpf_item"),d=b.find(".wpf_price_from"),c=b.find(".wpf_price_to"),e=parseInt(a(this).data("min")),h=parseInt(a(this).data("max")),k=parseFloat(a(this).data("step")),f=b.closest("form"),m=parseInt(d.val()),l=parseInt(c.val()),B=b.find(".wpf-price-min"),C=b.find(".wpf-price-max");e===parseInt(e,10)&&h===parseInt(h,10)&&(m=m?m:
e,l=l?l:h,a(this).slider({range:!0,min:e,step:isNaN(k)||0>=k?1:k,max:h,values:[m,l],slide:function(a,b){B.text(b.values[0]);C.text(b.values[1])},stop:function(a,b){d.val(b.values[0]);c.val(b.values[1]);f.hasClass("wpf_submit_on_change")&&f.trigger("submit")}}),a(this).slider().on("slidechange",function(b,d){a(d.handle).find(".wpf_tooltip_amount").html(d.value)}))})},E=function(c){a("body").off("click.wpfGroupToggle").on("click.wpfGroupToggle",".wpf_grouped_label",function(b){var d=a(this).next(".wpf_items_group"),
c=a(this);b.preventDefault();d.is(":visible")?d.slideUp(function(){c.addClass("wpf_grouped_close")}):d.slideDown(function(){c.removeClass("wpf_grouped_close")})});a(".wpf_items_grouped:not(.wpf_layout_horizontal) .wpf_item_name",c).each(function(){a(this).closest(".wpf_item_onsale, .wpf_item_instock").length||a(this).addClass("wpf_grouped_label").trigger("click")})},u=function(c=null){var b=a(".wpf-search-container",c).first();0===b.length&&(b=a(".wc-products.loops-wrapper",c).parent(),0===b.length&&
(b=a(".woocommerce ul.products",c).parent(),0===b.length&&(b=a("ul.products",c).parent(),0===b.length&&(b=a(".post",c).first()))));return b.first().addClass("wpf-search-container")},G=function(){var c,b;a("body").off("submit.wpfForm").on("submit.wpfForm",".wpf_form",function(d){d.preventDefault();var g=a(this),e=u();d=g.serializeArray();var h={};for(f in d)if(d[f].value.trim()){var k=d[f].name.replace("[]","");h[k]=h[k]?h[k]+(","+d[f].value):d[f].value}n&&(h.append=1);g.find('input[name="wpf_page"]').val("");
if(e.length){var f=e[0].getElementsByClassName("products");c=c||a(".products",e).data("isotope")||"function"===typeof Isotope&&0<f.length&&Isotope.data(f[0]);b=b||"object"===typeof c&&"options"in c}g.hasClass("wpf_form_ajax")&&!e.length&&g.removeClass("wpf_form_ajax").attr("action",g.attr("data-shop"));var m=new URL(g.prop("action"));for(const a in h)m.searchParams.set(a,h[a]);if(!g.hasClass("wpf_form_ajax"))return window.location=m.toString(),!1;a.ajax({url:m.toString(),type:"GET",beforeSend:function(){document.body.classList.add("wpf_loading");
g.addClass("wpf-search-submit");e.addClass("wpf-container-wait")},complete:function(){document.body.classList.remove("wpf_loading");g.removeClass("wpf-search-submit");e.removeClass("wpf-container-wait")},success:function(d){if(d){history.replaceState({},null,m.toString());var f=e,l=null,k=a(".products",e).attr("class");d=a(d);var t=u(d);e.data("slug",g.data("slug"));a.event.trigger("wpf_ajax_before_replace");n?(l=t.find(".product"),l.addClass("wpf_transient_product").removeClass("first last"),a(".products",
e).first().append(l),f=k.match(/columns-(\d)/),null!==f&&(f=parseInt(f[1]),a(".products",e).first().find(".product:nth-child("+f+"n+1)").addClass("first").end().find(".product:nth-child("+f+"n)").addClass("last")),f=d.find(".wpf_infinity a"),0<f.length&&a(".wpf_infinity a",e).data({current:f.data("current"),max:f.data("max")}),e.removeClass("wpf-infnitiy-scroll"),f=l.first(),delete h.append,setTimeout(function(){n=!1},200)):(a(".wpf-pagination").remove(),t.find(".product").length?(e.empty().append(t.removeAttr("class")),
x(e)):e.empty().append(g.find(".wpf-no-products-found").clone().show()));b&&a.fn.isotope?"function"===typeof c.appended&&null!==l&&c.appended(l):g.hasClass("wpf_form_scroll")&&F(f);null!==l&&l.addClass("wpf_transient_end_product");void 0!==window.wp&&void 0!==window.wp.mediaelement&&window.wp.mediaelement.initialize();a.event.trigger("wpf_ajax_success");z(window,"resize")}}})})},F=function(c){0<c.length&&a("html,body").animate({scrollTop:c.offset().top-a("#wpadminbar").outerHeight(!0)-10},1E3)},p=
a(),q=function(c,b){p.length||(p=u());if(!n&&(b||window.scrollY>p.offset().top+p.outerHeight()-v||window.innerHeight+window.pageYOffset>=document.body.offsetHeight)){c=a(".wpf-search-container");var d=a(".wpf_infinity a",c),g=a(".wpf_form_"+c.data("slug"));g.length||(g=a(".wpf_form:first"));if(g.length){var e=d.data("current");e<=d.data("max")&&(g.find('input[name="wpf_page"]').val(e),n=!0,b||c.addClass("wpf-infnitiy-scroll"),g.trigger("submit"),e+1>d.data("max")&&(a(".wpf_infinity").remove(),b||
a(this).off("scroll",q)))}}},H=function(){function c(a){var b=parseInt(a.text());if(!b){b=parseInt(a.closest(".woocommerce-pagination,.pagenav").find(".current").text());a.hasClass("next")?++b:--b;var c=/(?<=paged=)[^\bs=]+/;!b&&c.test(a.attr("href"))&&(b=a.attr("href").match(c)[0])}return b}if(0<a(".wpf_infinity_auto").length)a("#load-more").remove(),a(window).off("scroll",q).on("scroll",q);else if(0<a(".wpf_infinity").length)a(".wpf_infinity").closest(".wpf-hide-pagination").removeClass("wpf-hide-pagination"),
a("#load-more").remove(),a("body").off("click.wpfInfinity").on("click.wpfInfinity",".wpf_infinity a",function(a){a.preventDefault();a.stopPropagation();q(a,1)});else a("body").off("click.wpfPagination").on("click.wpfPagination",".wpf-pagination a,.woocommerce-pagination a",function(b){if("1"==(new URL(window.location.href)).searchParams.get("wpf")){var d=a(this).closest(".wpf-search-container").data("slug");d=a(".wpf_form_"+d);0<d.length&&0<d.find('input[name="wpf_page"]').length&&(b.preventDefault(),
d.find('input[name="wpf_page"]').val(c(a(this))),d.trigger("submit"))}})},I=function(c){var b=wpf.includes_url+"js/jquery/ui/",d=[[b+"core.min.js",function(){return"object"===typeof a.ui}],[b+"position.min.js",function(){return"object"===typeof a.ui.position}],[b+"menu.min.js",function(){return"function"===typeof a.ui.menu}],[b+"autocomplete.min.js",function(){return"function"===typeof a.ui.autocomplete}]];wpf.load_jquery_ui_widget&&d.unshift([b+"widget.min.js",function(){return"function"===typeof a.widget}]);
r(d,function(){c()})},J=function(c){if(a.fn.autocomplete){var b=[];a(".wpf_autocomplete input",c).each(function(){var d=a(this),c=0<d.closest(".wpf_item_sku").length?"sku":"title",e=d.next(".wpf-search-wait"),h=d.closest("form"),k=h.hasClass("wpf_submit_on_change");b[c]=[];a(this).autocomplete({minLength:0,classes:{"ui-autocomplete":"highlight"},source:function(d,g){var f=a.trim(d.term);k&&0===f.length&&0===d.term.length&&h.trigger("submit");1>f.length||(d.term=f,f=f.toLowerCase(),f in b[c]?g(b[c][f]):
(e.show(),d.key=c,d.action="wpf_autocomplete",a.post(wpf.ajaxurl,d,function(a,d,h){e.hide();for(const b in a){d=a[b];h=a[b].label;var m=document.createElement("textarea");m.innerHTML=h;d.label=m.innerText}b[c][f]=a;g(a)},"json")))},select:function(a,b){a:{try{new URL(b.item.value)}catch(l){a=!1;break a}a=!0}a?window.location=b.item.value:(d.val(b.item.value),k&&h.trigger("submit"));return!1}}).on("focus",function(){0<d.val().trim().length&&a(this).autocomplete("search")}).autocomplete("widget").addClass("wpf_ui_autocomplete")})}},
K=function(){function c(b,d){d=d.closest(".wpf-search-container").data("slug");d=a(".wpf_form_"+d);0<d.length&&0<d.find('input[name="orderby"]').length&&(d.find('input[name="orderby"]').val(b),d.trigger("submit"))}a(".wpf-search-container").on("form.woocommerce-ordering","submit",function(b){b.preventDefault();c(a(this).find("select").val(),a(this))}).on("select.orderby","change",function(b){c(a(this).val(),a(this))});a(".wpf-search-container").data("slug")||a(".wpf-search-container").data("slug",
a(".wpf_form").last().data("slug"))},L=function(c){0<a(".wpf_submit_on_change",c).length&&a(".wpf_submit_on_change",c).each(function(){var b=a(this);b.find('input[type!="text"],select').on("change",function(d){"price"==a(this).attr("name")&&a(this).is(":checked")&&(a(".wpf_price_range label").removeClass("active"),a(this).next("label").addClass("active"));b.trigger("submit")});b.find(".wpf_pa_link").on("click",function(b){b.preventDefault();a(this).find("input").prop("checked",!0).trigger("change")})})},
M=function(c){var b=a(".wpf_layout_horizontal",c);if(0<b.length){y(b);b.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock)").hover(function(){a(this).children(".wpf_items_group").stop().fadeIn()},function(){var b=a(this);if(0===b.closest(".wpf-search-submit").length){var d=!0;a(".wpf_ui_autocomplete",c).each(function(){if(a(this).is(":hover"))return d=!1});d&&b.children(".wpf_items_group").stop().fadeOut()}});navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/)&&
b.find(".wpf_item:not(.wpf_item_onsale):not(.wpf_item_instock) .wpf_item_name").click(function(){var b=a(this).parent(),d=b.children(".wpf_items_group").is(":visible"),c=b.hasClass("wpf_touched");d&&!c?(b.addClass("wpf_touch_tap"),b.trigger("mouseleave")):d||c?c&&b.removeClass("wpf_touched"):(b.removeClass("wpf_touch_tap"),b.trigger("mouseenter"),b.removeClass("wpf_touched"))});var d;a(window).resize(function(a){a.isTrigger||(clearTimeout(d),d=setTimeout(function(){y(b)},500))})}},y=function(c){c.each(function(){var b=
a(this),d=b.find(".wpf_items_group"),c=Math.ceil(d.length/2),e=d.last().closest(".wpf_item"),h=e.offset().left;d.each(function(){var b=a(this).closest(".wpf_item");h<b.offset().left&&(e=b,h=b.offset().left)});var k=d.first().closest(".wpf_item").offset().left-2,f=h+e.outerWidth(!0);h=e=null;d.each(function(d){var e=a(this).closest(".wpf_item"),g=e.offset().left;1E3<screen.width?(a(this).css("left",""),d+1>=c?a(this).removeClass("wpf_left_tab").addClass("wpf_right_tab").outerWidth(Math.round(g+e.width()-
k)):a(this).removeClass("wpf_right_tab").addClass("wpf_left_tab").outerWidth(Math.round(f-g))):a(this).removeClass("wpf_right_tab").addClass("wpf_left_tab").outerWidth(Math.round(b.width())).css("left",-1*(g-b.offset().left))})})},N=function(c){w(wpf.url+"js/select2.min.js",function(){return"function"===typeof a.fn.select2},function(){c()})},O=function(c){function b(a,b){b=a.find('[value="'+b+'"]').text();a.next(".select2").find('[title="'+b+'"]').addClass("wpf_disabled")}a.fn.select2&&a(".wpf_form",
c).find("select").each(function(){var d=a(this),c=d.prop("multiple"),e=c?d.data("selected"):!1;d.select2({dir:wpf.rtl?"rtl":"ltr",minimumResultsForSearch:10,dropdownCssClass:"wpf_selectbox",allowClear:!e&&c,placeholder:c?"":!1});e&&c&&(b(d,e),d.on("change",function(a){b(d,e)}))})},P=function(c){a(".wpf_reset_btn",c).each(function(){this.addEventListener("click",function(b){b.preventDefault();b=b.target;var d=b.closest(".wpf_item");d=null===d?b.closest(".wpf_form"):d;for(var c=d.querySelectorAll("input,select"),
e=c.length-1;0<=e;e--)if(!c[e].hasAttribute("readonly"))if("INPUT"===c[e].tagName)switch(c[e].type){case "text":c[e].value="";break;case "radio":case "checkbox":c[e].checked=!1}else c[e].selectedIndex=0,a(c[e]).val(null).trigger("change");a(d).find(".wpf_slider").each(function(){var b=a(this),c=b.data("min"),d=b.data("max");b.siblings(".wpf_price_from").val(c);b.siblings(".wpf_price_to").val(d);b.closest(".wpf_item").find(".wpf-price-min").text(c).end().find(".wpf-price-max").text(d);b.slider("values",
0,c);b.slider("values",1,d)});a(b.closest(".wpf_form")).trigger("submit")})})},Q=function(c){if(window.location.href.includes("wpf=")){const b=c.hasClass("wpf-search-container")?c:c.find(".wpf-search-container");a(".woocommerce-pagination",b).each(function(){a(this).closest(".wpf-pagination").length||a(this).remove()})}a(".wpf-pagination",c).each(function(){a(this).insertAfter(a(this).parent())})},x=function(c){c=c||a("body");a(".wpf_form",c).css("visibility","visible");M(c);E(c);a(".wpf_form",c).find("select").length&&
N(function(){O(c)});a(".wpf_slider",c).length&&A(function(){D(c)});v=a(".wpf_form").data("infinitybuffer");H();K();L(c);a(".wpf_autocomplete input",c).length&&I(function(){J(c)});G();P(c);Q(c)};a(document).ready(function(){if(0<a(".wpf_form").length){a("body").addClass("woocommerce");var c,b=document.querySelector(".et_pb_module.et_pb_shop .woocommerce"),d=document.querySelector(".elementor-element.elementor-wc-products");null!==b?(b.className+=" wpf-search-container",(b=b.querySelector("ul.products"))&&
(c=b.className.match(/columns-(\d+)/))):null!==d?(d.className+=" wpf-search-container",c=d.querySelector("ul.products").className.match(/columns-(\d+)/)):(b=document.querySelector(".wc-products"),null!==b?c=b.className.match(/grid(\d+)/):(b=document.querySelector(".woocommerce > .products"),null!==b&&(c=b.className.match(/columns-(\d+)/),c=null!==c?c:b.parentElement.className.match(/columns-(\d+)/))));null!==c&&void 0!=c&&(document.querySelector('[name="wpf_cols"]').value=c[1]);x()}})})(jQuery);
